<div class="divClass">
  <div *ngIf="isLoading">
    <app-loading-spinner></app-loading-spinner>
  </div>
  <form
    class="formClass"
    #authForm="ngForm"
    (ngSubmit)="onSubmit(authForm)"
    *ngIf="!isLoading"
  >
    <div class="form-group">
      <label>Email</label>
      <input
        email
        required
        ngModel
        #email="ngModel"
        [class.is-invalid]="email.invalid && email.touched"
        type="email"
        class="form-control"
        name="email"
      />
    </div>
    <div *ngIf="email.errors && email.invalid && email.touched">
      <small class="form-text alert alert-danger removePadding" *ngIf="email.errors.required">Email is required</small>
      <small class="form-text alert alert-danger removePadding" *ngIf="email.errors.email">Email is nt in format</small>
    </div>

    <div class="form-group">
      <label>Password</label>
      <input
        required
        ngModel
        minlength="6"
        #password="ngModel"
        [class.is-invalid]="password.invalid && password.touched"
        type="password"
        class="form-control"
        name="password"
      />
    </div>
    <div *ngIf="password.errors && password.invalid && password.touched">
      <small class="form-text alert alert-danger removePadding" *ngIf="password.errors.required">Password required</small>
      <small class="form-text alert alert-danger removePadding" *ngIf="password.errors.minlength"
        >Password must be at least 6 characheters</small
      >
    </div>
    <div class="form-group" *ngIf="!isLoginMode">
      <label>First Name</label>
      <input
        required
        name="fname"
        ngModel
        [class.is-invalid]="fname.invalid && fname.touched"
        #fname="ngModel"
        type="text"
        class="form-control"
      />
      <div *ngIf="fname.errors && fname.invalid && fname.touched">
        <small class="form-text alert alert-danger removePadding" *ngIf="fname.errors.required">First name required</small>
      </div>
    </div>

    <div class="form-group" *ngIf="!isLoginMode">
      <label>Last Name</label>
      <input
        type="text"
        class="form-control"
        ngModel
        name="lname"
        #lname="ngModel"
      />
    </div>
    <div class="form-group" *ngIf="!isLoginMode">
      <label>Gender</label>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          required
          #gender="ngModel"
          [class.is-invalid]="gender.invalid && gender.touched"
          ngModel
          type="radio"
          name="gender"
          value="female"
        />
        <label class="form-check-label">Female</label>
      </div>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          required
          #gender="ngModel"
          [class.is-invalid]="gender.invalid && gender.touched"
          ngModel
          type="radio"
          name="gender"
          value="male"
        />
        <label class="form-check-label">Male</label>
      </div>
      <div *ngIf="gender.errors && gender.invalid && gender.touched">
        <small class="form-text alert alert-danger removePadding" *ngIf="gender.errors.required"> Gender required</small>
      </div>
    </div>

    <div class="form-group" *ngIf="!isLoginMode">
      <label>Address</label>
      <input
        type="text"
        class="form-control"
        #address="ngModel"
        ngModel
        name="address"
      />
    </div>
    <div class="form-group" *ngIf="!isLoginMode">
      <label>Profile Image</label>
      <!-- <img src="https://picsum.photos/200"/> -->
      <input
        type="text"
        class="form-control"
        ngModel
        #profileImage="ngModel"
        name="profileImage"
      />
    </div>

    <app-alert *ngIf="errorMessage" [message]="errorMessage" (close)="onCloseAlert()"></app-alert>

    <!-- <div *ngIf="errorMessage" class="alert alert-danger">
            {{errorMessage}}
        </div> -->
    <div style="
    margin-top: 20px;">
      <button class="btn btn-primary" type="submit" [disabled]="!authForm.valid">
        {{ isLoginMode ? "Login" : "Register" }}
      </button>
      |
      <button (click)="switchMode()" class="btn btn-primary" type="button">
        Switch to {{ isLoginMode ? "Register" : "Login" }}
      </button>
    </div>
  </form>
</div>
