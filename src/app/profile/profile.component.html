<div class="row">
  <div *ngIf="isLoading">
    <app-loading-spinner></app-loading-spinner>
  </div>
  <div class="col-xs-12">
    <div class="headerClass">
      <h3 class="">My Profile</h3>
      <button class="btn btn-success" (click)="onEdit()">
        Edit My Profile
      </button>
    </div>
  </div>
  <hr />

  <form
    #profileEdit="ngForm"
    (ngSubmit)="onSave(profileEdit)"
    *ngIf="!isLoading"
  >
    <div class="form-group row">
      <label class="col-sm-2 col-form-label" for="email">Email:</label>
        <div class="col-sm-10">
          <input type="text" #email readonly class="form-control-plaintext" id="email" value={{userData.email}}>
        </div>
        <label class="col-sm-2 col-form-label" for="todoList">ToDo Task:</label>
        <div class="col-sm-10"> {{ userData.todoList.length }}
          <!-- <input type="text" #todoList readonly class="form-control-plaintext" id="todoList" value={{ userData.todoList.length }}> -->
        </div>
    </div>
  <div class="form-row displayFlex">
    <div class="form-group col-md-6">
      <label>First Name</label>
      <input
        required
        name="fname"
        [disabled]="!editMode"
        #fname="ngModel"
        [class.is-invalid]="fname.invalid && fname.touched"
        ngModel="{{ userData.fname }}"
        type="text"
        class="form-control"
      />
      <div *ngIf="fname.errors && fname.invalid && fname.touched">
        <small class="form-text alert alert-danger removePadding" *ngIf="fname.errors.required">First name required</small>
      </div>
    </div>
    <div class="form-group col-md-6">
      <label>Last Name</label>
      <input
        required
        [disabled]="!editMode"
        #lname="ngModel"
        type="text"
        class="form-control"
        ngModel="{{ userData.lname }}"
        name="lname"
      />
    </div>
  </div>
  <div class="form-row displayFlex">
    <div class="form-group col-md-6">
      <label>Gender</label>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          [disabled]="!editMode"
          required
          ngModel="{{ userData.gender }}"
          #gender="ngModel"
          type="radio"
          name="gender"
          value="female"
        />
        <label class="form-check-label">Female</label>
      </div>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          [disabled]="!editMode"
          required
          ngModel="{{ userData.gender }}"
          #gender="ngModel"
          type="radio"
          name="gender"
          value="male"
        />
        <label class="form-check-label">Male</label>
      </div>
    </div>

    <div class="form-group col-md-6">
      <label>Address</label>
      <input
        type="text"
        class="form-control"
        [disabled]="!editMode"
        #address="ngModel"
        ngModel="{{ userData.address }}"
        name="address"
      />
    </div>
  </div>
  <div class="form-row ">
    <label>Profile Image</label>
    <div class="form-group">
      <img class="rounded-circle" src="{{ userData.profileImage }}" />
      <input
        type="text"
        [disabled]="!editMode"
        #profileImage="ngModel"
        class="form-control"
        ngModel="{{ userData.profileImage }}"
        name="profileImage"
      />
    </div>
  </div>
    <div class="form-row">
      <button
        [disabled]="!profileEdit.valid"
        class="btn btn-success"
        type="submit"
      >
        Update My Details
      </button>
      <button (click)="onEditCancel()" class=" btn btn-danger" style="float: right;"type="button">
        Cancel
      </button>
    </div>
  </form>
</div>
